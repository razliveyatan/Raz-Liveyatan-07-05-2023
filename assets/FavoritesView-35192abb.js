import{d as m,s as _,u as f,r as T,w as F,a as d,c as n,F as g,b as C,o,e as l,f as h,D as I,I as k,M as L,g as V,i as p,_ as w,h as x,j as N,k as S,l as y,m as u,n as U}from"./index-ef81c1f7.js";const D={class:"favorites-list-items"},b=["onClick"],W=m({__name:"FavoritesDisplay",props:{displayItems:null},setup(v){const r=v,{defaultTempratureType:s}=_(f());T([]),F(s,a=>{});const i=d(),c=a=>{if(a)try{i.setCurrentLocation(a),i.setIsFromFavoritesLocations(!0),V.push("/Main")}catch(e){console.error(e),p.error("An error occured while setting location to store"+e)}};return(a,e)=>(o(),n("div",D,[(o(!0),n(g,null,C(r.displayItems,t=>(o(),n("div",{class:"favorites-item",key:t.cityKey,onClick:H=>c(t)},[l(I,{"city-name":t.cityName,temperature:h(s)==="F"?t.weatherFahrenheitTemprature:t.weatherCelsiusTemprature,"tempertaute-type":h(s)?h(s):t.tempratureValueType},null,8,["city-name","temperature","tempertaute-type"]),l(k,{"icon-url":t.weatherIcon,class:"icon-favorites"},null,8,["icon-url"]),l(L,{"forecast-synopsis":t.WeatherText,class:"mainforecast-favorites"},null,8,["forecast-synopsis"])],8,b))),128))]))}});const K=w(W,[["__scopeId","data-v-3b8276c0"]]),B={class:"favorites-page"},M={class:"favorites-container"},$={key:0,class:"favorites-page-title"},A={key:1,class:"clear-favorites-container"},j={key:3,class:"no-items-found"},E=m({__name:"FavoritesView",setup(v){const r=x([]),s=d(),{defaultTempratureType:i}=_(f());N(()=>{try{const a=s.favoriteLocations;if(a.length>0)r.value=a.map(e=>({weatherIcon:e.weatherIcon??"",WeatherText:e.WeatherText??"",cityName:e.cityName??"",cityKey:e.cityKey??0,tempratureValue:i.value==="C"?e.weatherCelsiusTemprature:e.weatherFahrenheitTemprature,tempratureValueType:i.value??"C",weatherCelsiusTemprature:e.weatherCelsiusTemprature??0,weatherCelsiusUnitType:e.weatherCelsiusUnitType??"",weatherFahrenheitTemprature:e.weatherFahrenheitTemprature??0,weatherFahrenheitlUnitType:e.weatherFahrenheitlUnitType??""}));else{const e=S();e&&e.length>0&&(r.value=e.map(t=>({weatherIcon:t.weatherIcon??"",WeatherText:t.WeatherText??"",cityName:t.cityName??"",cityKey:t.cityKey??0,tempratureValue:i.value==="C"?t.weatherCelsiusTemprature:t.weatherFahrenheitTemprature,tempratureValueType:i.value??"C",weatherCelsiusTemprature:t.weatherCelsiusTemprature??0,weatherCelsiusUnitType:t.weatherCelsiusUnitType??"",weatherFahrenheitTemprature:t.weatherFahrenheitTemprature??0,weatherFahrenheitlUnitType:t.weatherFahrenheitlUnitType??""})))}}catch(a){console.error(a),p.error("Something went wrong fetching favorite location")}});const c=()=>{try{const a=s.favoriteLocations;a&&a.length>0&&s.resetFavoriteLocations();const e=[];sessionStorage.setItem("favorites",JSON.stringify(e)),r.value=[]}catch{p.error("Something went wrong while trying to clear favorites")}};return(a,e)=>(o(),n("div",B,[y("div",M,[r.value&&r.value.length>0?(o(),n("p",$,"Here Are Your Favorite Locations")):u("",!0),r.value&&r.value.length>0?(o(),n("p",A,[y("button",{onClick:c,type:"button",class:"clear-favorites-button"},"Clear Favorite")])):u("",!0),r.value&&r.value.length>0?(o(),U(K,{key:2,"display-items":r.value},null,8,["display-items"])):u("",!0),!r.value||r.value.length===0?(o(),n("p",j,"No Favorite Locations Found")):u("",!0)])]))}});const O=w(E,[["__scopeId","data-v-42f47550"]]);export{O as default};
